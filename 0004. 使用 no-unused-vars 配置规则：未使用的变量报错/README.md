# [0004. ä½¿ç”¨ no-unused-vars é…ç½®è§„åˆ™ï¼šæœªä½¿ç”¨çš„å˜é‡æŠ¥é”™](https://github.com/Tdahuyou/eslint/tree/main/0004.%20%E4%BD%BF%E7%94%A8%20no-unused-vars%20%E9%85%8D%E7%BD%AE%E8%A7%84%E5%88%99%EF%BC%9A%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%9A%84%E5%8F%98%E9%87%8F%E6%8A%A5%E9%94%99)


## ğŸ”— links

- https://eslint.org/docs/latest/rules/no-unused-vars - eslint å®˜æ–¹æ–‡æ¡£ no-unused-vars

## ğŸ“’ notes

- `no-unused-vars` ç”¨äºæ£€æµ‹ä»£ç ä¸­æœªä½¿ç”¨çš„å˜é‡ã€å‡½æ•°å‚æ•°æˆ–å¯¼å…¥çš„æ¨¡å—ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯¹äºä¸€ä¸ªæ¨¡å—ä¸­æœªä½¿ç”¨çš„å˜é‡ï¼Œç¨‹åºä¸­æ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚
- **æœªè¢«ä½¿ç”¨çš„å˜é‡å¯¹ç¨‹åºçš„é€»è¾‘å¹¶ä¸ä¼šé€ æˆå½±å“ã€‚**å¦‚æœæƒ³è¦ç¡®ä¿ç¨‹åºä¸­ä¸å­˜åœ¨æœªä½¿ç”¨çš„å˜é‡ï¼Œå¯ä»¥é€šè¿‡ `no-unused-vars` è§„åˆ™æ¥æ£€æµ‹å¹¶æŠ¥é”™æç¤ºï¼Œç„¶åå†å°†è¿™äº›æç¤ºçš„å˜é‡å¤„ç†æ‰ã€‚

## ğŸ’» demo - 'no-unused-vars': 'error'

```js
module.exports = {
    rules: {
        'no-unused-vars': 'error'
    }
}
```

![](md-imgs/2024-09-29-13-03-19.png)

## ğŸ¤– AI - è¯·ä»‹ç»ä¸€ä¸‹ no-unused-var é…ç½®

`no-unused-vars` æ˜¯ ESLint ä¸­ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„è§„åˆ™ï¼Œç”¨äºæ£€æµ‹ä»£ç ä¸­æœªä½¿ç”¨çš„å˜é‡ã€å‡½æ•°å‚æ•°æˆ–å¯¼å…¥çš„æ¨¡å—ã€‚è¿™ä¸ªè§„åˆ™æœ‰åŠ©äºä¿æŒä»£ç çš„æ•´æ´ï¼Œé¿å…ä¸å¿…è¦çš„å£°æ˜ï¼Œå¹¶ä¸”å¯ä»¥å‡å°‘æ½œåœ¨çš„é”™è¯¯ã€‚

### è§„åˆ™é…ç½®

åœ¨ä½ çš„ ESLint é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ `.eslintrc.js` æˆ– `eslint.config.js`ï¼‰ä¸­ï¼Œä½ å¯ä»¥å¯ç”¨å’Œè‡ªå®šä¹‰ `no-unused-vars` è§„åˆ™ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„é…ç½®é€‰é¡¹ï¼š

#### åŸºæœ¬å¯ç”¨
```javascript
module.exports = {
  rules: {
    'no-unused-vars': 'error' // æˆ–è€… 'warn'
  }
};
```

è¿™é‡Œ `'error'` è¡¨ç¤ºå¦‚æœè¿åäº†è¿™æ¡è§„åˆ™ï¼ŒESLint ä¼šå°†å…¶æ ‡è®°ä¸ºé”™è¯¯ï¼›å¦‚æœæ˜¯ `'warn'`ï¼Œåˆ™åªä¼šç”Ÿæˆè­¦å‘Šã€‚

#### è‡ªå®šä¹‰é€‰é¡¹
`no-unused-vars` è§„åˆ™æ”¯æŒå¤šä¸ªé€‰é¡¹æ¥è¿›ä¸€æ­¥å®šåˆ¶å…¶è¡Œä¸ºã€‚è¿™äº›é€‰é¡¹å¯ä»¥é€šè¿‡æ•°ç»„å½¢å¼ä¼ é€’ç»™è§„åˆ™ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯é”™è¯¯çº§åˆ«ï¼ˆ`error` æˆ– `warn`ï¼‰ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å…·ä½“çš„é…ç½®é€‰é¡¹ã€‚

##### å¿½ç•¥æ¨¡å¼
å¦‚æœä½ å¸Œæœ›å¿½ç•¥æŸäº›ç‰¹å®šçš„å˜é‡åæˆ–æ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨ `varsIgnorePattern` å’Œ `argsIgnorePattern` é€‰é¡¹ï¼š
```javascript
module.exports = {
  rules: {
    'no-unused-vars': ['error', { varsIgnorePattern: '^_', argsIgnorePattern: '^_' }]
  }
};
```
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰€æœ‰ä»¥ `_` å¼€å¤´çš„å˜é‡å’Œå‡½æ•°å‚æ•°å°†è¢«å¿½ç•¥ï¼Œä¸ä¼šè§¦å‘ `no-unused-vars` é”™è¯¯ã€‚

##### å¿½ç•¥å‡½æ•°å‚æ•°
æœ‰æ—¶å€™ä½ å¯èƒ½éœ€è¦ä¿ç•™ä¸€äº›å‡½æ•°å‚æ•°ï¼Œå³ä½¿å®ƒä»¬æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œæ¯”å¦‚å›è°ƒå‡½æ•°ä¸­çš„é»˜è®¤å‚æ•°ã€‚ä½ å¯ä»¥é€šè¿‡è®¾ç½® `args` é€‰é¡¹æ¥è°ƒæ•´è¿™ä¸€ç‚¹ï¼š
```javascript
module.exports = {
  rules: {
    'no-unused-vars': ['error', { args: 'none' }]
  }
};
```
è¿™ä¼šç¦ç”¨å¯¹å‡½æ•°å‚æ•°çš„æ£€æŸ¥ã€‚

##### æ£€æŸ¥å·²è§£æ„çš„å˜é‡
é»˜è®¤æƒ…å†µä¸‹ï¼Œ`no-unused-vars` ä¸ä¼šæ£€æŸ¥è§£æ„èµ‹å€¼ä¸­çš„æœªä½¿ç”¨å˜é‡ã€‚å¦‚æœä½ æƒ³å¯ç”¨è¿™é¡¹æ£€æŸ¥ï¼Œå¯ä»¥è®¾ç½® `destructuredArrayIgnorePattern` å’Œ `ignoreRestSiblings` é€‰é¡¹ï¼š
```javascript
module.exports = {
  rules: {
    'no-unused-vars': ['error', { destructuredArrayIgnorePattern: '^_' }]
  }
};
```
è¿™æ ·ï¼Œé™¤äº†é‚£äº›åŒ¹é…æ¨¡å¼çš„è§£æ„å˜é‡å¤–ï¼Œå…¶ä»–æœªä½¿ç”¨çš„è§£æ„å˜é‡éƒ½ä¼šè§¦å‘é”™è¯¯ã€‚

##### å¿½ç•¥å¯¼å‡ºçš„å˜é‡
æœ‰æ—¶ä½ å¯èƒ½éœ€è¦å¯¼å‡ºä¸€äº›å˜é‡ï¼Œå³ä½¿å®ƒä»¬åœ¨å½“å‰æ–‡ä»¶ä¸­æ²¡æœ‰è¢«ä½¿ç”¨ã€‚ä½ å¯ä»¥é€šè¿‡è®¾ç½® `vars` é€‰é¡¹æ¥è°ƒæ•´è¿™ä¸€ç‚¹ï¼š
```javascript
module.exports = {
  rules: {
    'no-unused-vars': ['error', { vars: 'local' }]
  }
};
```
è¿™ä¼šåªæ£€æŸ¥å±€éƒ¨å˜é‡ï¼Œè€Œå¿½ç•¥å…¨å±€å˜é‡å’Œå¯¼å‡ºçš„å˜é‡ã€‚

### ç¤ºä¾‹

å‡è®¾ä½ æœ‰å¦‚ä¸‹ JavaScript ä»£ç ï¼š
```javascript
function example(a, b) {
  console.log(a);
}

const unusedVar = 42;
```

å¦‚æœæ²¡æœ‰é…ç½® `no-unused-vars` è§„åˆ™ï¼Œè¿™æ®µä»£ç ä¼šè¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆçš„ã€‚ä½†æ˜¯ï¼Œå½“ä½ å¯ç”¨äº† `no-unused-vars` è§„åˆ™åï¼ŒESLint ä¼šæŠ¥å‘Š `b` å’Œ `unusedVar` æœªè¢«ä½¿ç”¨ã€‚

å¦‚æœä½ æƒ³è¦å¿½ç•¥ä»¥ `_` å¼€å¤´çš„å˜é‡ï¼Œå¯ä»¥é…ç½®å¦‚ä¸‹ï¼š
```javascript
module.exports = {
  rules: {
    'no-unused-vars': ['error', { argsIgnorePattern: '^_', varsIgnorePattern: '^_' }]
  }
};
```

ç„¶åä¿®æ”¹ä»£ç ï¼š
```javascript
function example(_a, _b) {
  console.log(_a);
}

const _unusedVar = 42;
```

æ­¤æ—¶ï¼ŒESLint å°†ä¸ä¼šæŠ¥å‘Š `_b` å’Œ `_unusedVar` æœªè¢«ä½¿ç”¨ã€‚

é€šè¿‡è¿™æ ·çš„é…ç½®ï¼Œä½ å¯ä»¥æ ¹æ®é¡¹ç›®çš„å…·ä½“éœ€æ±‚çµæ´»åœ°åº”ç”¨ `no-unused-vars` è§„åˆ™ã€‚